<p-toolbar styleClass="mb-4 gap-2">
  <ng-template pTemplate="left">
    <button
      pButton
      pRipple
      label="New"
      icon="pi pi-plus"
      class="p-button-success mr-2"
      (click)="openNew()"
    ></button>
    <button
      pButton
      pRipple
      label="Delete"
      icon="pi pi-trash"
      class="p-button-danger"
      (click)="deleteSelectedProducts(selectedProducts)"
      [disabled]="!selectedProducts || !selectedProducts.length"
    ></button>
  </ng-template>

  <ng-template pTemplate="right">
    <button pButton pRipple icon="pi pi-cog" class="p-button"></button>
  </ng-template>
</p-toolbar>
<p-table
  [value]="productList"
  [(selection)]="selectedProducts"
  dataKey="code"
  [paginator]="true"
  [rows]="10"
  [showCurrentPageReport]="true"
  [tableStyle]="{ 'min-width': '50rem' }"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [rowsPerPageOptions]="[10, 25, 50]"
>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 4rem">
        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
      </th>
      <th pSortableColumn="code">Code <p-sortIcon field="code"></p-sortIcon></th>
      <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
      <th>Actions</th>
    </tr>
    <tr>
      <th></th>
      <th>
        <p-columnFilter type="text" field="code"></p-columnFilter>
      </th>
      <th>
        <p-columnFilter type="text" field="name"></p-columnFilter>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-product>
    <tr>
      <td>
        <p-tableCheckbox [value]="product"></p-tableCheckbox>
      </td>
      <td>{{ product.code }}</td>
      <td>{{ product.name }}</td>
      <td>
        <i class="pi pi-pencil" style="color: blue" (click)="openUpdate(product)"></i>
        <i class="pi pi-trash" style="color: red" (click)="deleteProduct(product.id)"></i>
    </td>
    </tr>
  </ng-template>
</p-table>
